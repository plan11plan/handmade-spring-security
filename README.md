# phase-0
## 📋App 기능 요구사항
### ✅ 구현 완료 조건
- [x] 유저를 생성하고 비밀번호를 암호화하여 저장한다.
- [x] 저장된 유저의 비밀번호를 검증한다.
### 📌 유저
- [x] 유저를 생성한다.
  - 빈 유저이름 -> 예외
  - 빈 패스워드 -> 예외
  - 빈 역할 -> 예외

### 📌 비밀번호
- [x] 비밀번호를 암호화한다.
  - 같은 비밀번호라도 -> 매번 다른 해시 생성
- [x] 비밀번호를 검증한다.
  - 올바른 비밀번호 -> true
  - 잘못된 비밀번호 -> false

---
# phase-1

## 📋Authentication 기능 요구사항


## 1️⃣ 인증 모델 구현하기
###  ✅ 구현 완료 조건
- [ ] 권한을 표현하고 비교한다.
- [ ] User를 인증 시스템에서 사용할 형태로 변환한다.
- [ ] 인증 전후 상태를 표현한다.
- [ ] 인증 정보를 저장하고 전역에서 접근한다.

### 📌 권한 관리
- [x] 권한을 표현한다.
  - "ROLE_USER" 같은 권한 문자열 저장
  - 빈 권한 -> 예외
- [x] 권한을 비교한다.
  - 같은 권한끼리 비교 -> 동일하다고 판단
  - 다른 권한끼리 비교 -> 다르다고 판단

### 📌 사용자 상세 정보
- [x] User를 인증 시스템에서 사용할 형태로 변환한다.
  - 유효한 User -> 변환 성공
  - null User -> 예외
- [x] 사용자의 인증 정보를 제공한다.
  - 사용자 이름 조회 가능
  - 비밀번호 조회 가능
  - 권한 목록 조회 가능
- [x] 계정 상태를 제공한다.

### 📌 사용자 정보 조회
- [x] 사용자 이름으로 사용자 정보를 조회한다.
  - 존재하는 사용자 이름 -> 사용자 상세 정보 반환
  - 존재하지 않는 사용자 이름 -> 예외
  - null 사용자 이름 -> 예외

### 📌 인증 정보 관리
- [x] JWT 인증 정보를 표현한다.
  - userId로 사용자 식별
  - 권한 목록 포함
  - 인증 상태 = 참 (JWT는 이미 검증됨)
  - null userId -> 예외
  - null authorities -> 예외
- [x] 사용자 식별자를 제공한다.
  - userId 조회 가능
  - Long 타입 반환
- [x] 권한 목록을 제공한다.
  - authorities 조회 가능
  - 여러 권한 포함 가능
- [x] credentials는 null을 반환한다.
  - JWT에서는 비밀번호 불필요

### 📌 보안 컨텍스트 관리
- [ ] 인증 정보를 저장한다.
- [ ] 저장된 인증 정보 조회 가능
- [ ] 인증 정보를 삭제한다.
  - 인증 정보 삭제 -> 삭제 성공
  - 삭제 후 조회 -> null

### 📌 전역 보안 컨텍스트 접근
- [ ] 스레드별로 보안 컨텍스트를 관리한다.
  - 현재 스레드에 보안 컨텍스트 저장
  - 현재 스레드에서 보안 컨텍스트 조회
- [ ] 다른 스레드와 격리한다.
  - 다른 스레드에서 조회 -> 새로운 빈 컨텍스트
- [ ] 보안 컨텍스트를 초기화한다.
  - 초기화 후 조회 -> 새로운 빈 컨텍스트

